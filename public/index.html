<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Blood Pressure Advisor</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>ü©∫ AI Blood Pressure Advisor</h1>
        <p>Track your blood pressure over time and get AI-powered health insights.</p>

        <!-- üîπ User Input Form -->
        <form id="bpForm">
            <label class="checkbox-label">
                <input type="checkbox" id="existingUser"> Already a user?
            </label>

            <!-- üîπ User ID Section -->
            <div id="userIdSection">
                <div id="newUserIdSection">
                    <label for="newUserId">Create your 4-digit User ID:</label>
                    <div class="input-group">
                        <input type="text" id="newUserId" pattern="\d{4}" maxlength="4" title="Please enter a 4-digit number" placeholder="Enter 4-digit User ID">
                        <button type="button" id="checkUserId">Check Availability</button>
                    </div>
                    <span id="userIdAvailability"></span>
                </div>
                <div id="existingUserIdSection" class="hidden">
                    <label for="userId">Enter your User ID:</label>
                    <div class="input-group">
                        <input type="text" id="userId" pattern="\d{4}" maxlength="4" title="Please enter a 4-digit number" placeholder="Enter your User ID">
                        <button type="button" id="verifyUserId">Verify User ID</button>
                    </div>
                    <span id="userVerificationStatus"></span>
                </div>
            </div>

            <!-- üîπ User Information Fields -->
            <div class="input-group" id="newUserFields">
                <input type="text" id="name" name="name" placeholder="Full Name" required>
                <input type="number" id="age" name="age" placeholder="Age" required min="1" max="120">
                
                <select id="gender" name="gender" required>
                    <option value="" disabled selected>Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>

                <input type="text" id="language" name="language" placeholder="Preferred Language" required>
                <textarea id="problem" name="problem" placeholder="Describe any health conditions or concerns"></textarea>
            </div>

            <!-- üîπ Existing User Fields -->
            <div id="existingUserFields" class="hidden">
                <input type="text" id="existingLanguage" name="language" placeholder="Preferred Language" required>
                <textarea id="existingProblem" name="problem" placeholder="Describe any health conditions or concerns"></textarea>
            </div>

            <hr>

            <!-- üîπ Blood Pressure Inputs -->
            <div class="bp-inputs">
                <input type="number" id="systolic" name="systolic" placeholder="Systolic Pressure (mmHg)" required min="60" max="250" title="Value must be between 60 and 250">
                <input type="number" id="diastolic" name="diastolic" placeholder="Diastolic Pressure (mmHg)" required min="40" max="150" title="Value must be between 40 and 150">
            </div>

            <button type="submit" id="analyzeBtn" class="ripple" disabled>üîç Analyze Blood Pressure</button>
        </form>

        <!-- üîπ AI Diagnosis Output -->
        <div id="output" class="hidden">
            <h2>AI Analysis Results</h2>
            <div class="diagnosis-content"></div>
        </div>

        <!-- üîπ BP History Section -->
        <div id="bpHistory" class="hidden">
            <h2>Your Blood Pressure History</h2>
            <canvas id="bpChart"></canvas>
        </div>

        <!-- üîπ Email Report Section -->
        <div id="emailSection" class="hidden">
            <h3>Get Your Report via Email</h3>
            <div class="email-input-group">
                <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                <button id="sendEmail" class="ripple">üìß Send Report</button>
            </div>
        </div>
    </div>

    <!-- Include JavaScript -->
    <script src="script.js"></script>
</body>
</html>